# Спецификация UX для каталога WinePool

## Обзор
Переработка каталога по аналогии с OZON: горизонтальные фильтры в виде слайдера с кнопками, всплывающие окна для настройки фильтров (showModalBottomSheet).

## Страница категорий

### Описание экрана
Экран открывается по нажатию кнопки "Винотека" в главной навигации. Это промежуточный экран для выбора основной категории товаров.

### Структура экрана
- **AppBar**: Заголовок "Категории"
- **Основная область**:
  - Две крупные кнопки в вертикальном расположении:
    - **Вино**: Кнопка с иконкой бокала вина, текстом "Вино". При нажатии переходит к CatalogScreen с фильтрами для вин.
    - **Аксессуары**: Кнопка с иконкой аксессуаров (например, Icons.shopping_bag), текстом "Аксессуары". При нажатии переходит к экрану аксессуаров (пока не реализован).
- **Стиль кнопок**:
  - Высота: 120px
  - Ширина: полная ширина экрана минус отступы
  - Фон: градиент или цвет темы
  - Иконка: крупная (48px), цвет: белый
  - Текст: крупный шрифт (18px), жирный, белый цвет
  - Отступы: 16px по бокам, 24px между кнопками

### Навигация
- Назад: стандартная кнопка в AppBar
- Переход к CatalogScreen: context.go('/catalog') с параметром категории

## Новый CatalogScreen

### Общий дизайн
- **AppBar**: Заголовок "Каталог вин" (или "Каталог аксессуаров" в зависимости от категории)
- **Тело**:
  - Горизонтальный слайдер с кнопками-фильтрами (Scrollable Row)
  - Список товаров (ListView или GridView)
- **Фильтры**: Горизонтальный слайдер в верхней части, под AppBar

### Горизонтальный слайдер фильтров
- **Расположение**: Под AppBar, высота ~50px
- **Стиль кнопок**:
  - Круглые кнопки с текстом
  - Активные фильтры выделены цветом (например, синий фон)
  - Неактивные: серый фон
  - Иконки: опционально, для некоторых фильтров (цена - Icons.attach_money, рейтинг - Icons.star)
- **Список фильтров**:
  1. Цвет
  2. Тип
  3. Сахар
  4. Цена
  5. Страна
  6. Регион
  7. Сорт
  8. Рейтинг
  9. Год
  10. Объем

### Modal Bottom Sheets для фильтров

#### Общий дизайн Modal Bottom Sheet
- **Высота**: 70% экрана
- **Заголовок**: Название фильтра + кнопка "Сбросить" + кнопка "Применить"
- **Содержимое**: Зависит от типа фильтра
- **Кнопки**: "Сбросить" (слева), "Применить" (справа, жирный)

#### 1. Фильтр "Цвет"
- **Тип**: Множественный выбор (CheckboxListTile)
- **Опции**:
  - Красное
  - Белое
  - Розовое
  - Игристое
  - Десертное
- **Дополнительно**: Показывать счетчики количества вин для каждой опции

#### 2. Фильтр "Тип"
- **Тип**: Множественный выбор
- **Опции**:
  - Сухое
  - Полусухое
  - Полусладкое
  - Сладкое
- **Дополнительно**: Счетчики

#### 3. Фильтр "Сахар"
- **Тип**: Множественный выбор
- **Опции**:
  - Тихое
  - Игристое
  - Крепленое
- **Дополнительно**: Счетчики

#### 4. Фильтр "Цена"
- **Тип**: Диапазон (RangeSlider)
- **Элементы**:
  - RangeSlider с мин/макс значениями
  - Текстовые поля для точного ввода мин/макс
  - Шаг: 100 руб
- **Дополнительно**: Показывать текущий диапазон в заголовке

#### 5. Фильтр "Страна"
- **Тип**: Множественный выбор с поиском
- **Элементы**:
  - Поле поиска вверху
  - Список стран с чекбоксами
  - Сортировка по популярности
- **Дополнительно**: Счетчики, группировка по континентам

#### 6. Фильтр "Регион"
- **Тип**: Множественный выбор с поиском
- **Элементы**: Аналогично стране, но регионы внутри стран
- **Дополнительно**: Фильтр по выбранным странам

#### 7. Фильтр "Сорт"
- **Тип**: Множественный выбор с поиском
- **Опции**: Популярные сорта (Каберне Совиньон, Шардоне и т.д.)
- **Дополнительно**: Счетчики

#### 8. Фильтр "Рейтинг"
- **Тип**: Ползунок (Slider) для минимального рейтинга
- **Элементы**:
  - Slider от 0 до 5 звезд
  - Шаг: 0.5
  - Показывать звезды визуально
- **Дополнительно**: Текст "От X звезд"

#### 9. Фильтр "Год"
- **Тип**: Диапазон лет
- **Элементы**:
  - Два DropdownButton для мин/макс года
  - Опции: от 1900 до текущего года
- **Дополнительно**: Предустановленные диапазоны ("Последние 5 лет", "Классика" и т.д.)

#### 10. Фильтр "Объем"
- **Тип**: Множественный выбор
- **Опции**:
  - 0.375 л
  - 0.75 л
  - 1.5 л
  - 3 л
  - 6 л
- **Дополнительно**: Счетчики

### Поведение фильтров
- **Активация**: Нажатие на кнопку фильтра открывает соответствующий Modal Bottom Sheet
- **Индикация активных фильтров**: Кнопка подсвечена, показывать количество выбранных опций (например, "Цвет (2)")
- **Сброс**: Кнопка "Сбросить все фильтры" в слайдере или отдельно
- **Применение**: Фильтры применяются сразу при закрытии Modal или по кнопке "Применить"
- **Сортировка**: Дополнительная кнопка сортировки рядом со слайдером (по цене, рейтингу, новизне)

### Список товаров
- **Тип**: GridView с 2 колонками
- **Элементы**: WineTile (существующий виджет)
- **Пагинация**: Load more при скролле
- **Пустое состояние**: Текст "Ничего не найдено" с предложением сбросить фильтры

### Адаптивность
- **Мобильный**: Полная ширина, слайдер прокручивается горизонтально
- **Планшет**: Аналогично, возможно 3 колонки в GridView

### Производительность
- **Кеширование**: Фильтры сохраняются в состоянии
- **Debounce**: Задержка при быстром изменении фильтров
- **Инвалидация**: Обновление списка только при изменении фильтров