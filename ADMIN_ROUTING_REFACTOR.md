# План рефакторинга роутинга административной панели (Версия 2)

## 1. Контекст и проблема

Первоначальный анализ показал наличие двух роутов: `/admin-home` и `/admin`. Оказалось, что `AdminHomeScreen` (`/admin-home`) является навигационным хабом для управления винодельнями, а `AdminScreen` (`/admin`) — это инструмент для импорта CSV.

Задача — объединить этот функционал в единый, логичный административный раздел.

## 2. Цель рефакторинга

Создать единую точку входа для администратора, объединив навигацию к управлению данными и импорту на одном экране, и структурировать файлы и роуты более логично.

## 3. План действий

### 3.1. Создание единой панели администратора

1.  **Переименовать и переместить `AdminHomeScreen`**:
    *   **Старое имя файла**: `lib/features/home/presentation/admin_home_screen.dart`
    *   **Новое имя файла**: `lib/features/admin/presentation/admin_dashboard_screen.dart`
    *   **Старое имя класса**: `AdminHomeScreen`
    *   **Новое имя класса**: `AdminDashboardScreen`

2.  **Переименовать `AdminScreen` (экран импорта)**:
    *   **Старое имя файла**: `lib/features/admin/presentation/admin_screen.dart`
    *   **Новое имя файла**: `lib/features/admin/presentation/admin_import_screen.dart`
    *   **Старое имя класса**: `AdminScreen`
    *   **Новое имя класса**: `AdminImportScreen`

3.  **Дополнить `AdminDashboardScreen`**:
    *   Добавить на этот экран новую кнопку "Импорт данных", которая будет вести на роут `/admin/import`.

### 3.2. Обновление роутера (`lib/core/router.dart`)

1.  **Изменить основной административный роут**:
    *   Роут, который вел на `AdminHomeScreen`, будет изменен: `path: '/admin-home'` станет `path: '/admin'`.
    *   Он будет указывать на новый `AdminDashboardScreen`.

2.  **Создать вложенный роут для импорта**:
    *   Роут, который вел на `AdminScreen`, станет вложенным: `path: '/admin'` изменится на `path: 'import'`.
    *   Он будет находиться внутри роута `/admin` и указывать на новый `AdminImportScreen`.

3.  **Обновить редирект**:
    *   Редирект для администратора будет указывать на `/admin`.

### 3.3. Mermaid-диаграмма предлагаемых изменений

```mermaid
graph TD
    subgraph "Было"
        A[Вход администратора] --> B{Редирект на /admin-home};
        C[/admin-home] --> D[AdminHomeScreen];
        D -- "Управление винодельнями" --> E[/wineries];
        F[/admin] --> G[AdminScreen (Импорт)];
    end

    subgraph "Станет"
        H[Вход администратора] --> I{Редирект на /admin};
        J[/admin] --> K[AdminDashboardScreen];
        K -- "Управление винодельнями" --> L[/wineries];
        K -- "Импорт данных" --> M[/admin/import];
        M --> N[AdminImportScreen];
    end
```

## 4. Ожидаемый результат

- Создана единая и логичная структура для административного раздела.
- `/admin` становится главным экраном (дашбордом) для администратора.
- Функционал импорта доступен по вложенному роуту `/admin/import`.
- Файлы и классы переименованы и перемещены для лучшей организации проекта.